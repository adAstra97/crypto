<div
  class="modal-overlay"
  (click)="closeModal()"
  (keydown.enter)="closeModal()"
  tabindex="0"></div>
<div class="modal-content">
  <ng-container *ngIf="mode === 'portfolio'; else addCoinTemplate">
    <h2>Your Portfolio</h2>
    <ul>
      <li *ngFor="let coin of coins">
        {{ coin.symbol }}: {{ coin.quantity }} ({{
          coin.priceUsd | number: '1.2-2'
        }}
        USD)
        <app-button label="Remove" (clickEvent)="confirmRemove(coin.id)">
        </app-button>
      </li>
    </ul>
    <app-button label="Close" (clickEvent)="closeModal()"></app-button>
  </ng-container>

  <ng-template #addCoinTemplate>
    <h2>Add {{ coin?.symbol }} to Portfolio</h2>
    <p>Current Price: {{ parsePrice(coin?.priceUsd) }} USD</p>
    <p>
      Total Price:
      {{ parsePrice(coin?.priceUsd) * quantity }} USD
    </p>
    <label for="quantity">Quantity</label>
    <input
      type="number"
      id="quantity"
      [(ngModel)]="quantity"
      min="1"
      max="1000" />
    <span>{{ errorText }}</span>
    <app-button label="Add" (clickEvent)="confirmAdd()"> </app-button>
    <app-button label="Cancel" (clickEvent)="closeModal()"> </app-button>
  </ng-template>
</div>
